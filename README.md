
# Musical Ensemble

This system trains an ensemble of LSTM networks for the purposes of music generation. Each network is trained on a genre-specific subset of the full midi dataset. The ensemble of networks is then presented with a random seed from which to generate music. 

The ensemble uses a consensus system to select each note.  This is based on the concept of *crowd wisdom*, where a group of people together are smarter than the individuals which comprise the group. In this case, the crowd is an ensemble of networks each with different music *preferences*. 

The hypothesis is that the music generated by the ensemble will be more coherent and more melodic than that generated by any one network in the ensemble. 

The documentation for this project will remain sparse for now, I'm likely to change the folder and file structure several times before a final structure is decided upon.

## Getting the dataset
To get the midi dataset, separated by music genre, run midiScraping/scrape.bat. It will find the midi files on [freemidi.org](https://freemidi.org/) and download them into midiScraping/scraped/genre using pycurl.

Alternatively, the dl_urls_deduplicated.csv file contains the urls for the midi files. Running `python download_midi.py dl_urls_deduplicated.csv` will start downloading without checking for new songs.

## Dependencies:

```
scrapy
pycurl
keras
music21
```